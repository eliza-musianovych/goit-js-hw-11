{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst myApiKey = \"49372169-96077d899f4beec9c9139b15f\";\nconst URL = \"https://pixabay.com/api/\";\nconst keywordInput = document.querySelector(\"input\");\n\nexport function fetchData() {\nconst keyword = keywordInput.value.trim();\nconst parametrs = new URLSearchParams({\n    key: myApiKey,\n    q: keyword,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n});\n\nreturn axios.get(`${URL}?${parametrs}`)\n.then(response => response.data)\n.catch(error => iziToast.error({message: `Sorry, there are no images matching your search query. Please try again!`}))\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: `alt`,\n    captionDelay: 250,\n});\n\nexport function createMarkup(response) {\ngallery.innerHTML = \"\";\n\nconst markup = response.hits\n    .map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n    `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${webformatURL}\">\n    <img\n    class=\"gallery-image\"\n    src=\"${largeImageURL}\"\n    alt= \"${tags.split(`, `).slice(0, 3).join(`, `)}\"\n    width=\"360px\"\n    height=\"200px\"\n    />\n    </a>\n    <ul class=\"image-titles\">\n    <li>Likes<br>${likes}</br></li>\n    <li>Views<br>${views}</br></li>\n    <li>Comments<br>${comments}</br></li>\n    <li>Downloads<br>${downloads}</br></li>\n    </ul>\n    </li>`)\n    .join(\"\");\n\ngallery.insertAdjacentHTML(\"beforeend\", markup);\n\nlightbox.refresh();\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchData } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector(\"form\");\nconst keywordInput = document.querySelector(\"input\");\n\nconst loader = document.querySelector(\".loader\");\nfunction showLoader() {\n    loader.style.display = `block`\n}\nfunction hideLoader() {\n    loader.style.display = `none`\n}\n\nform.addEventListener(\"submit\", reserch);\n\nfunction reserch(event) {\n    event.preventDefault();\n    \n    document.querySelector(\".gallery\").innerHTML = \"\";\n\n    const keyword = keywordInput.value.trim();\n  if (!keyword) {\n    iziToast.error({\n      message: \"Please enter a search query before submitting!\",\n      position: \"topRight\"\n    });\n    return;\n  }\n\n  showLoader();\n\n    fetchData()\n    .then(response => {\n        if (response.hits.length === 0) {\n            iziToast.error({\n              message: \"Sorry, there are no images matching your search query. Please try again!\",\n              position: \"topRight\",\n              closeOnClick: true,\n              color: `#fafafb;`,\n              messageColor: `#fafafb`,\n              backgroundColor: '#ef4040',\n            });\n            return;\n          }\n          createMarkup(response)})\n    .finally(() => {\n        hideLoader();\n    });\n}"],"names":["myApiKey","URL","keywordInput","fetchData","keyword","parametrs","axios","response","error","iziToast","gallery","lightbox","SimpleLightbox","createMarkup","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","loader","showLoader","hideLoader","reserch","event"],"mappings":"owBAIA,MAAMA,EAAW,qCACXC,EAAM,2BACNC,EAAe,SAAS,cAAc,OAAO,EAE5C,SAASC,GAAY,CAC5B,MAAMC,EAAUF,EAAa,MAAM,OAC7BG,EAAY,IAAI,gBAAgB,CAClC,IAAKL,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAED,OAAOE,EAAM,IAAI,GAAGL,CAAG,IAAII,CAAS,EAAE,EACrC,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAASC,EAAS,MAAM,CAAC,QAAS,0EAA0E,CAAC,CAAC,CACrH,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAaN,EAAU,CACvCG,EAAQ,UAAY,GAEpB,MAAMI,EAASP,EAAS,KACnB,IAAI,CAAC,CAAC,aAAAQ,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC3E;AAAA,oCACgCN,CAAY;AAAA;AAAA;AAAA,WAGrCC,CAAa;AAAA,YACZC,EAAK,MAAM,IAAI,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAMhCC,CAAK;AAAA,mBACLC,CAAK;AAAA,sBACFC,CAAQ;AAAA,uBACPC,CAAS;AAAA;AAAA,UAEtB,EACL,KAAK,EAAE,EAEZX,EAAQ,mBAAmB,YAAaI,CAAM,EAE9CH,EAAS,QAAO,CAChB,CClCA,MAAMW,EAAO,SAAS,cAAc,MAAM,EACpCpB,EAAe,SAAS,cAAc,OAAO,EAE7CqB,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CAClBD,EAAO,MAAM,QAAU,OAC3B,CACA,SAASE,GAAa,CAClBF,EAAO,MAAM,QAAU,MAC3B,CAEAD,EAAK,iBAAiB,SAAUI,CAAO,EAEvC,SAASA,EAAQC,EAAO,CAMtB,GALEA,EAAM,eAAc,EAEpB,SAAS,cAAc,UAAU,EAAE,UAAY,GAG7C,CADczB,EAAa,MAAM,KAAI,EAC3B,CACZO,EAAS,MAAM,CACb,QAAS,iDACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDe,IAEErB,EAAW,EACV,KAAKI,GAAY,CACd,GAAIA,EAAS,KAAK,SAAW,EAAG,CAC5BE,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,aAAc,GACd,MAAO,WACP,aAAc,UACd,gBAAiB,SAC/B,CAAa,EACD,MACD,CACDI,EAAaN,CAAQ,CAAC,CAAC,EAC5B,QAAQ,IAAM,CACXkB,GACR,CAAK,CACL"}